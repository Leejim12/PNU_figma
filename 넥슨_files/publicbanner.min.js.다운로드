var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var d=0;return function(){return d<b.length?{done:!1,value:b[d++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.makeIterator=function(b){var d="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return d?d.call(b):$jscomp.arrayIterator(b)};
$jscomp.checkStringArgs=function(b,d,e){if(null==b)throw new TypeError("The 'this' value for String.prototype."+e+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+e+" must not be a regular expression");return b+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,d,e){b!=Array.prototype&&b!=Object.prototype&&(b[d]=e.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,d,e,f){if(d){e=$jscomp.global;b=b.split(".");for(f=0;f<b.length-1;f++){var m=b[f];m in e||(e[m]={});e=e[m]}b=b[b.length-1];f=e[b];d=d(f);d!=f&&null!=d&&$jscomp.defineProperty(e,b,{configurable:!0,writable:!0,value:d})}};
$jscomp.polyfill("String.prototype.startsWith",function(b){return b?b:function(d,b){var f=$jscomp.checkStringArgs(this,d,"startsWith");d+="";for(var e=f.length,l=d.length,a=Math.max(0,Math.min(b|0,f.length)),c=0;c<l&&a<e;)if(f[a++]!=d[c++])return!1;return c>=l}},"es6","es3");
(function(b,d){function e(){if(this instanceof e)this.script=$nq('script[data-id="publicbanner"]')[0],this.player=null,this.init();else return new e}function f(a,c,u){"object"==typeof $h&&"object"==typeof $h.a2s&&"function"==typeof f&&$h.a2s.sendClickLog(a,c,u)}function m(a,c){"object"==typeof $h&&"object"==typeof $h.a2s&&"function"==typeof f&&$h.a2s.sendContentsLog(a,c)}var l="file:"===d.location.protocol?"http:":d.location.protocol;e.prototype={constructor:e,init:function(){this.isPublicBanner=
this.getIsPublicBanner();this.gameCode=this.getGameCode();this.mainResourceType={Image:1,Video:2,LiveStream:3,Iframe:4};this.domain={gnbapi:l+"//gnbapi.nexon.com",resource:"rs.nxfs.nexon.com"};this.getPublicPopupBanner()},getIsPublicBanner:function(){return"true"==this.script.getAttribute("data-ispublicbanner").toLowerCase()?!0:!1},getGameCode:function(){var a=this.script.getAttribute("data-gamecode");return a?a:65533},getYouTubeID:function(a){var c=a.lastIndexOf("/")+1;a=a.substring(c);a.startsWith("watch")&&
(a=a.replace("watch?v=",""));return a},setCookie:function(a,c,u){var b=new Date;b=new Date(b.getFullYear(),b.getMonth(),b.getDate(),23,59,59,999);d.cookie=0>=u?a+"="+escape(c)+"; path=/; domain=nexon.com;":a+"="+escape(c)+"; path=/; domain=nexon.com; expires="+b.toGMTString()+";"},getCookie:function(a){a+="=";for(var c=0;c<=d.cookie.length;){var b=c+a.length;if(d.cookie.substring(c,b)==a)return-1==(endOfCookie=d.cookie.indexOf(";",b))&&(endOfCookie=d.cookie.length),unescape(d.cookie.substring(b,endOfCookie));
c=d.cookie.indexOf(" ",c)+1;if(0==c)break}return""},removeCookie:function(a){var c=new Date;c.setDate(c.getDate()-1);d.cookie=a+"=; path=/; domain=nexon.com; expires="+c.toGMTString()+";"},removeBannersShouleBeHidden:function(a){var c=[];a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=a.next())b=b.value,this.getCookie("hideBanner"+b.bannerSN)||c.push(b);return c},removeEventHandlers:function(){$nq(".gnbFullBannerDimmed").off();$nq(".gnbFullBannerBtClose").off();$nq(".gnbFullBannerBtToday").off()},
getProtectionPageType:function(a){if(!a||!a.length)return"";var c=a.indexOf("ix=");a=a.substring(c+3);return"134"===a?"A":"135"===a?"B":""},getLogAttribute:function(a,c){var b=this.getProtectionPageType(void 0===c?"":c);return{mainpopup_img:'obj="P_BANNER" opt={"Name":"mainpopup_img","Value":"'+a+'","PageCode":"'+this.gameCode+'"}',mainpopup_img_close:'obj="P_BANNER" opt={"Name":"mainpopup_img_close","Value":"'+a+'","PageCode":"'+this.gameCode+'"}',mainpopup_img_today:'obj="P_BANNER" opt={"Name":"mainpopup_img_today","Value":"'+
a+'","PageCode":"'+this.gameCode+'"}',mainpopup_img_dim:'obj="P_BANNER" opt={"Name":"mainpopup_img_dim","Value":"'+a+'","PageCode":"'+this.gameCode+'"}',mainpopup_video_close:'obj="P_BANNER" opt={"Name":"mainpopup_video_close","Value":"'+a+'","PageCode":"'+this.gameCode+'"}',mainpopup_video_today:'obj="P_BANNER" opt={"Name":"mainpopup_video_today","Value":"'+a+'","PageCode":"'+this.gameCode+'"}',mainpopup_video_more:'obj="P_BANNER" opt={"Name":"mainpopup_video_more","Value":"'+a+'","PageCode":"'+
this.gameCode+'"}',mainpopup_video_dim:'obj="P_BANNER" opt={"Name":"mainpopup_video_dim","Value":"'+a+'","PageCode":"'+this.gameCode+'"}',mainpopup_iframe_body:'obj="P_BANNER" opt={"Name":"mainpopup_iframe","Value":"'+a+",Type("+b+')","PageCode":"'+this.gameCode+'"}',mainpopup_iframe_close:'obj="P_BANNER" opt={"Name":"mainpopup_iframe_close","Value":"'+a+",Type("+b+')","PageCode":"'+this.gameCode+'"}',mainpopup_iframe_today:'obj="P_BANNER" opt={"Name":"mainpopup_iframe_today","Value":"'+a+",Type("+
b+')","PageCode":"'+this.gameCode+'"}',mainpopup_iframe_dim:'obj="P_BANNER" opt={"Name":"mainpopup_iframe_dim","Value":"'+a+",Type("+b+')","PageCode":"'+this.gameCode+'"}'}},getA2sLog:function(a,c){var b=this.getProtectionPageType(void 0===c?"":c);return{mainpopup_img:'{"Name":"mainpopup_img","Value":"'+a+'","PageCode":"'+this.gameCode+'"}',mainpopup_img_close:'{"Name":"mainpopup_img_close","Value":"'+a+'","PageCode":"'+this.gameCode+'"}',mainpopup_img_today:'{"Name":"mainpopup_img_today","Value":"'+
a+'","PageCode":"'+this.gameCode+'"}',mainpopup_img_dim:'{"Name":"mainpopup_img_dim","Value":"'+a+'","PageCode":"'+this.gameCode+'"}',mainpopup_video_close:'{"Name":"mainpopup_video_close","Value":"'+a+'","PageCode":"'+this.gameCode+'"}',mainpopup_video_today:'{"Name":"mainpopup_video_today","Value":"'+a+'","PageCode":"'+this.gameCode+'"}',mainpopup_video_more:'{"Name":"mainpopup_video_more","Value":"'+a+'","PageCode":"'+this.gameCode+'"}',mainpopup_video_dim:'{"Name":"mainpopup_video_dim","Value":"'+
a+'","PageCode":"'+this.gameCode+'"}',mainpopup_iframe_body:'{"Name":"mainpopup_iframe","Value":"'+a+",Type("+b+')","PageCode":"'+this.gameCode+'"}',mainpopup_iframe_close:'{"Name":"mainpopup_iframe_close","Value":"'+a+",Type("+b+')","PageCode":"'+this.gameCode+'"}',mainpopup_iframe_today:'{"Name":"mainpopup_iframe_today","Value":"'+a+",Type("+b+')","PageCode":"'+this.gameCode+'"}',mainpopup_iframe_dim:'{"Name":"mainpopup_iframe_dim","Value":"'+a+",Type("+b+')","PageCode":"'+this.gameCode+'"}'}},
loadYoutubeIframeApi:function(){var a=d.createElement("script");a.src="https://www.youtube.com/iframe_api";var c=d.getElementsByTagName("script")[0];c.parentNode.insertBefore(a,c)},isYoutubeIframeAPILoaded:function(){var a=d.getElementsByTagName("script");a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next())if(-1<c.value.src.indexOf("www.youtube.com/iframe_api"))return!0;return!1},registerPlayerCallback:function(a){var c=this;this.youtubePlayerAPILoaded||b.onYouTubeIframeAPIReady?this.createPlayer(a):
b.onYouTubeIframeAPIReady=function(){return c.createPlayer(a)}},onPlayerStateChange:function(a){a.data===YT.PlayerState.ENDED&&this.player.stopVideo()},createPlayer:function(a){var c=this,b=setInterval(function(){YT&&YT.Player&&(c.player=new YT.Player("publicbanner-player",{height:"557",width:"990",videoId:a,playerVars:{origin:d.location.origin},events:{onStateChange:c.onPlayerStateChange.bind(c)}}),clearInterval(b),b=null)},200)},getPublicPopupBanner:function(){if(0!=this.isPublicBanner){var a=this;
$nq.ajax({dataType:"jsonp",type:"GET",async:!0,url:a.domain.gnbapi+"/banners/nexon-common-banners?gameCode="+a.gameCode,jsonp:"callback",jsonpCallback:"jsonpCallbackNexonCommonBanners",timeout:2E3,success:function(c){var b=c.targettingBanner,e=c.commonBanners;if(c&&(c.targettingBanner||c.commonBanners)){if(b&&!a.getCookie("hideBanner"+b.bannerSN))c=b;else if(e&&e.length){e=a.removeBannersShouleBeHidden(e);if(!e.length)return;c=e[Math.floor(Math.random()*e.length)]}else return;b=c;var l=b.bannerSN;
c=b.resourceURL;var g=b.resourceType;e=b.landingURL;var k=a.getLogAttribute(l,c),h=a.getA2sLog(l,c);b=g===a.mainResourceType.Image?!1:g===a.mainResourceType.LiveStream?Helper.isIE()&&10>=Helper.isIE():g===a.mainResourceType.Video&&Helper.isIE()&&9>=Helper.isIE();var p="",q="",v="",r="",t="";c=decodeURIComponent(c);e=decodeURIComponent(e);g===a.mainResourceType.Image?(p+='\n                            <a href="'+e+'" target="_blank" '+k.mainpopup_img+'>\n                                <img id="gnbFullBannerImage" src="'+
c+'" width="990" height="557">\n                            </a>\n                        ',q='<div class="gnbFullBannerDimmed" '+k.mainpopup_img_dim+"></div >",r='\n                            <a href="#today" class="gnbFullBannerBtToday" id="GNB_BannerBtToday" '+k.mainpopup_img_today+">\n                                <span>\uc624\ub298 \ud558\ub8e8 \ubcf4\uc9c0 \uc54a\uae30</span>\n                            </a>",t='\n                            <a href="#close" class="gnbFullBannerBtClose" id="GNB_BannerBtClose" '+
k.mainpopup_img_close+">\n                                <span>\ub808\uc774\uc5b4 \ub2eb\uae30</span>\n                            </a>"):g===a.mainResourceType.Iframe?(c.startsWith("http:")&&(c=c.replace("http:","https:")),p+='<iframe src="'+c+'" '+k.mainpopup_iframe_body+' scrolling="no" width="990" height="557" style="background-color:white;"/>',q='<div class="gnbFullBannerDimmed" '+k.mainpopup_iframe_dim+"></div >",r='\n                            <a href="#today" class="gnbFullBannerBtToday" id="GNB_BannerBtToday" '+
k.mainpopup_iframe_today+">\n                                <span>\uc624\ub298 \ud558\ub8e8 \ubcf4\uc9c0 \uc54a\uae30</span>\n                            </a>",t='\n                            <a href="#close" class="gnbFullBannerBtClose" id="GNB_BannerBtClose" '+k.mainpopup_iframe_close+">\n                                <span>\ub808\uc774\uc5b4 \ub2eb\uae30</span>\n                            </a>"):(v='\n                            <a href="'+e+'" target="_blank" class="gnbFullBannerBtDetail" id="GNB_BannerBtDetail" '+
k.mainpopup_video_more+">\n                                <span>\uc790\uc138\ud788 \ubcf4\uae30</span>\n                            </a>",p=b?'<p class="gnbFullVulnerability">'+(g===a.mainResourceType.LiveStream?"\uc2e4\uc2dc\uac04 \uc601\uc0c1 \uc7ac\uc0dd\uc744 \uc704\ud574\uc11c \ube0c\ub77c\uc6b0\uc800\ub97c \uc5c5\uadf8\ub808\uc774\ub4dc \ud574\uc8fc\uc138\uc694.<br>Youtube \uc2e4\uc2dc\uac04 \uc601\uc0c1\uc740 IE 11 \ubc84\uc804 \uc774\uc0c1 \ubc0f Chrome, Edge \ube0c\ub77c\uc6b0\uc800\uc5d0 \ucd5c\uc801\ud654 \ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.":
"\uc601\uc0c1 \uc7ac\uc0dd\uc744 \uc704\ud574\uc11c \ube0c\ub77c\uc6b0\uc800\ub97c \uc5c5\uadf8\ub808\uc774\ub4dc \ud574\uc8fc\uc138\uc694.<br>YouTube\ub294 IE 10 \ubc84\uc804 \uc774\uc0c1 \ubc0f Chrome, Edge \ube0c\ub77c\uc6b0\uc800\uc5d0 \ucd5c\uc801\ud654 \ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.")+"</p>":'<div id="publicbanner-player"></div>',q='<div class="gnbFullBannerDimmed" '+k.mainpopup_video_dim+"></div >",r='\n                            <a href="#today" class="gnbFullBannerBtToday" id="GNB_BannerBtToday" '+
k.mainpopup_video_today+">\n                                <span>\uc624\ub298 \ud558\ub8e8 \ubcf4\uc9c0 \uc54a\uae30</span>\n                            </a>",t='\n                            <a href="#close" class="gnbFullBannerBtClose" id="GNB_BannerBtClose" '+k.mainpopup_video_close+">\n                                <span>\ub808\uc774\uc5b4 \ub2eb\uae30</span>\n                            </a>");e='\n                        <div class="gnbFullBanner gnbFullBannerOpen" id="GNB_FullBanner">\n                        '+
q+'\n                        <div class="gnbFullBannerSec">\n                            <div class="gnbFullBannerCnts">\n                                '+p+'\n                            </div>\n                            <div class="gnbFullBannerBt">\n                                '+v+"\n                                "+r+"\n                                "+t+"\n                            <div>\n                        </div>\n                    </div></div>";try{var n=$nq(".gnbWrapper");
n.append(e)}catch(w){n=d.querySelector(".gnbWrapper"),n.innerHTML+=e}g===a.mainResourceType.Image?($nq("#gnbFullBannerImage").click(function(){f("P_BANNER",h.mainpopup_img)}),m("P_BANNER",h.mainpopup_img)):g===a.mainResourceType.Iframe?($nq("#gnbFullBannerImage").click(function(){f("P_BANNER",h.mainpopup_iframe_body)}),m("P_BANNER",h.mainpopup_iframe_body)):($nq(".gnbFullBannerBtDetail").click(function(){f("P_BANNER",h.mainpopup_video_more)}),m("P_BANNER",h.mainpopup_video_more),b||(n=a.getYouTubeID(c),
a.youtubePlayerAPILoaded=a.isYoutubeIframeAPILoaded(),a.youtubePlayerAPILoaded||a.loadYoutubeIframeApi(),a.registerPlayerCallback(n)));$nq(".gnbFullBannerDimmed").on("click",function(){$nq(".gnbFullBanner").remove();a.removeEventHandlers();g===a.mainResourceType.Video||g===a.mainResourceType.LiveStream?f("P_BANNER",h.mainpopup_video_dim):g===a.mainResourceType.Image?f("P_BANNER",h.mainpopup_img_dim):f("P_BANNER",h.mainpopup_iframe_dim)});$nq(".gnbFullBannerBtClose").on("click",function(){$nq(".gnbFullBanner").remove();
a.removeEventHandlers();g===a.mainResourceType.Video||g===a.mainResourceType.LiveStream?f("P_BANNER",h.mainpopup_video_close):g===a.mainResourceType.Image?f("P_BANNER",h.mainpopup_img_close):f("P_BANNER",h.mainpopup_iframe_close)});$nq(".gnbFullBannerBtToday").on("click",function(){$nq(".gnbFullBanner").remove();a.removeEventHandlers();a.setCookie("hideBanner"+l,!0,1);g===a.mainResourceType.Video||g===a.mainResourceType.LiveStream?f("P_BANNER",h.mainpopup_video_today):g===a.mainResourceType.Image?
f("P_BANNER",h.mainpopup_img_today):f("P_BANNER",h.mainpopup_iframe_today)})}},fail:function(){},error:function(a,b,d){},complete:function(a,b){}})}}};$nq(d).ready(function(){new e})})(window,document);
